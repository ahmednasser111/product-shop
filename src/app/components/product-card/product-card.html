<!-- make the card with limited width and height -->
<div class="bg-white dark:bg-gray-800 rounded-2xl overflow-hidden flex flex-col h-full cursor-pointer transition-colors"
     appCardShadow
     (click)="onClick()">

  <div class="overflow-hidden h-48 relative">
	<img
      [src]="product.image"
      [alt]="product.name"
      class="w-full h-full object-cover"
      appZoomImage />
    <span class="absolute top-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded-full uppercase tracking-wide">
      {{ product.category }}
    </span>
  </div>

  <div class="p-4 flex flex-col gap-2 flex-1">

    <h3 class="text-base font-bold text-gray-900 dark:text-white">{{ product.name }}</h3>

    <p class="text-amber-400 tracking-widest text-sm">{{ 'â­'.repeat(product.rating) + 'â˜†'.repeat(5 - product.rating) }}</p>

    <p class="text-sm text-gray-500 dark:text-gray-400 leading-relaxed cursor-pointer" (click)="toggleDetails()">
      {{ details ? product.description : (product.description | truncate) }}
    </p>

    <div class="flex items-center justify-between gap-3 mt-auto pt-3 border-t border-gray-100 dark:border-gray-700">
      <span class="text-xl font-extrabold text-gray-900 dark:text-white">${{ product.price }}</span>
      <div class="flex-1">
        <app-buy-button
	        title="Add to Cart"
          color="#4f46e5"
          [fun]="onBuy" />
      </div>
    </div>

    <div class="flex gap-2 align-center justify-center">
        <button
          (click)="onEdit()"
          class="px-3 py-1.5 rounded-lg bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 text-xs font-semibold hover:bg-amber-200 dark:hover:bg-amber-900/50 transition-colors cursor-pointer flex-1 z-10">
          âœï¸ Edit
        </button>
        <button
          (click)="onDelete()"
          class="px-3 py-1.5 rounded-lg bg-red-100 dark:bg-red-900/30 text-red-500 dark:text-red-400 text-xs font-semibold hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors cursor-pointer flex-1 z-10">
          ğŸ—‘ Delete
        </button>
      </div>
    </div>
</div>